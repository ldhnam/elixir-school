<!DOCTYPE html>

<html lang="en-us">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <link href="http://gmpg.org/xfn/11" rel="profile">

  <meta name="description" content="Pelajaran mengenai bahasa pemrograman Elixir">
  <meta name="author" content="Sean Callan">

  <meta property="og:url" content="https://elixirschool.com/id/lessons/specifics/mnesia/">
  <meta property="og:site_name" content="ElixirSchool">
  <meta property="og:title" content="
  Mnesia &middot; Elixir School

">
  <meta property="og:description" content="Pelajaran mengenai bahasa pemrograman Elixir">
  <meta property="og:image" content="https://elixirschool.com/assets/fb_share.jpg">

  <title>
    
  Mnesia &middot; Elixir School


  </title>

  <!-- CSS -->
  <link type="text/css" rel="stylesheet" href="/assets/app.css">

  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <script type="text/javascript">
  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="3.1.0";
  analytics.load("C0p07Sw9j7mZnycKDCgPOAyqJR5hhyoQ");
  analytics.page()
  }}();
  </script>

</head>


  
  <body class="theme-custom-purple ">
    <a id="github_ribbon" href="https://github.com/doomspork/elixir_school"><img src="https://camo.githubusercontent.com/652c5b9acfaddf3a9c326fa6bde407b87f7be0f4/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6f72616e67655f6666373630302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png"></a>

    
<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/">
          Elixir School
        </a>
      </h1>
      <p class="lead">Pelajaran mengenai bahasa pemrograman Elixir</p>
    </div>

    <nav class="sidebar-nav">
      
      
        
        
        
        
          <div class="sidebar-nav-group basics">
            <div class="sidebar-nav-header">
              <i class="fa  fa-chevron-right "></i>
              <span>Dasar</span>
            </div>
            <div class="sidebar-nav-list"  style="display: none;" >
              
                <div class="sidebar-nav-item">
                  1. <a class="sidebar-lesson " href="/id/lessons/basics/basics/">Dasar</a>
                </div>
              
                <div class="sidebar-nav-item">
                  2. <a class="sidebar-lesson " href="/id/lessons/basics/collections/">Koleksi</a>
                </div>
              
                <div class="sidebar-nav-item">
                  3. <a class="sidebar-lesson " href="/id/lessons/basics/enum/">Enum</a>
                </div>
              
                <div class="sidebar-nav-item">
                  4. <a class="sidebar-lesson " href="/id/lessons/basics/pattern-matching/">Pencocokan Pola</a>
                </div>
              
                <div class="sidebar-nav-item">
                  5. <a class="sidebar-lesson " href="/id/lessons/basics/control-structures/">Struktur Kendali</a>
                </div>
              
                <div class="sidebar-nav-item">
                  6. <a class="sidebar-lesson " href="/id/lessons/basics/functions/">Fungsi</a>
                </div>
              
                <div class="sidebar-nav-item">
                  7. <a class="sidebar-lesson " href="/id/lessons/basics/pipe-operator/">Operator pipe</a>
                </div>
              
                <div class="sidebar-nav-item">
                  8. <a class="sidebar-lesson " href="/id/lessons/basics/modules/">Composition</a>
                </div>
              
                <div class="sidebar-nav-item">
                  9. <a class="sidebar-lesson " href="/id/lessons/basics/mix/">Mix</a>
                </div>
              
                <div class="sidebar-nav-item">
                  10. <a class="sidebar-lesson " href="/id/lessons/basics/sigils/">Sigil</a>
                </div>
              
                <div class="sidebar-nav-item">
                  11. <a class="sidebar-lesson " href="/id/lessons/basics/documentation/">Documentation</a>
                </div>
              
                <div class="sidebar-nav-item">
                  12. <a class="sidebar-lesson " href="/id/lessons/basics/testing/">Testing</a>
                </div>
              
                <div class="sidebar-nav-item">
                  13. <a class="sidebar-lesson " href="/id/lessons/basics/comprehensions/">Comprehensions</a>
                </div>
              
                <div class="sidebar-nav-item">
                  14. <a class="sidebar-lesson " href="/id/lessons/basics/strings/">Strings</a>
                </div>
              
                <div class="sidebar-nav-item">
                  15. <a class="sidebar-lesson " href="/id/lessons/basics/mix-tasks/">Custom Mix Tasks</a>
                </div>
              
            </div>
          </div>
        
      
        
        
        
        
          <div class="sidebar-nav-group advanced">
            <div class="sidebar-nav-header">
              <i class="fa  fa-chevron-right "></i>
              <span>Lanjutan</span>
            </div>
            <div class="sidebar-nav-list"  style="display: none;" >
              
                <div class="sidebar-nav-item">
                  1. <a class="sidebar-lesson " href="/id/lessons/advanced/erlang/">Interoperabilitas dengan Erlang</a>
                </div>
              
                <div class="sidebar-nav-item">
                  2. <a class="sidebar-lesson " href="/id/lessons/advanced/error-handling/">Penanganan Error</a>
                </div>
              
                <div class="sidebar-nav-item">
                  3. <a class="sidebar-lesson " href="/id/lessons/advanced/escripts/">Executables</a>
                </div>
              
                <div class="sidebar-nav-item">
                  4. <a class="sidebar-lesson " href="/id/lessons/advanced/concurrency/">Concurrency</a>
                </div>
              
                <div class="sidebar-nav-item">
                  5. <a class="sidebar-lesson " href="/id/lessons/advanced/otp-concurrency/">OTP Concurrency</a>
                </div>
              
                <div class="sidebar-nav-item">
                  6. <a class="sidebar-lesson " href="/id/lessons/advanced/otp-supervisors/">OTP Supervisors</a>
                </div>
              
                <div class="sidebar-nav-item">
                  7. <a class="sidebar-lesson " href="/id/lessons/advanced/metaprogramming/">Metaprogramming</a>
                </div>
              
                <div class="sidebar-nav-item">
                  8. <a class="sidebar-lesson " href="/id/lessons/advanced/umbrella-projects/">Umbrella Projects</a>
                </div>
              
            </div>
          </div>
        
      
        
        
        
        
          <div class="sidebar-nav-group specifics">
            <div class="sidebar-nav-header">
              <i class="fa  fa-chevron-down "></i>
              <span>Khusus</span>
            </div>
            <div class="sidebar-nav-list" >
              
                <div class="sidebar-nav-item">
                  1. <a class="sidebar-lesson " href="/id/lessons/specifics/plug/">Plug</a>
                </div>
              
                <div class="sidebar-nav-item">
                  2. <a class="sidebar-lesson " href="/id/lessons/specifics/ecto/">Ecto</a>
                </div>
              
                <div class="sidebar-nav-item">
                  3. <a class="sidebar-lesson " href="/id/lessons/specifics/eex/">Embedded Elixir (EEx)</a>
                </div>
              
                <div class="sidebar-nav-item">
                  4. <a class="sidebar-lesson " href="/id/lessons/specifics/ets/">Erlang Term Storage (ETS)</a>
                </div>
              
                <div class="sidebar-nav-item">
                  5. <a class="sidebar-lesson  active" href="/id/lessons/specifics/mnesia/">Mnesia</a>
                </div>
              
            </div>
          </div>
        
      
        
        
        
        
      
    </nav>

    <p>
      

      
        <a href=" /lessons/specifics/mnesia/ ">en</a>
      
        <a href=" /jp/lessons/specifics/mnesia/ ">jp</a>
      
        <a href=" /cn/lessons/specifics/mnesia/ ">cn</a>
      
        <a href=" /es/lessons/specifics/mnesia/ ">es</a>
      
        <a href=" /pt/lessons/specifics/mnesia/ ">pt</a>
      
        <a href=" /vi/lessons/specifics/mnesia/ ">vi</a>
      
        <a href=" /ru/lessons/specifics/mnesia/ ">ru</a>
      
        <a href=" /sk/lessons/specifics/mnesia/ ">sk</a>
      
        <a href=" /fr/lessons/specifics/mnesia/ ">fr</a>
      
        <a href=" /gr/lessons/specifics/mnesia/ ">gr</a>
      
        <a href=" /it/lessons/specifics/mnesia/ ">it</a>
      
        <a href=" /pl/lessons/specifics/mnesia/ ">pl</a>
      
        <a href=" /my/lessons/specifics/mnesia/ ">my</a>
      
        <a href=" /no/lessons/specifics/mnesia/ ">no</a>
      
        <a href=" /ko/lessons/specifics/mnesia/ ">ko</a>
      
        <a href=" /id/lessons/specifics/mnesia/ ">id</a>
      
        <a href=" /uk/lessons/specifics/mnesia/ ">uk</a>
      
        <a href=" /tr/lessons/specifics/mnesia/ ">tr</a>
      
        <a href=" /bg/lessons/specifics/mnesia/ ">bg</a>
      
        <a href=" /de/lessons/specifics/mnesia/ ">de</a>
      
        <a href=" /bn/lessons/specifics/mnesia/ ">bn</a>
      
    </p>

    <p>&copy; 2017 <a href="https://github.com/doomspork">Sean Callan</a></p>
  </div>
</div>


    <div class="content container">
      <div class="page">
  <h1 class="page-title">Mnesia</h1>
  <p>Mnesia adalah sebuah sistem manajemen database terdistribusi real-time yang kuat.</p>

<h2>Daftar Isi</h2>
<div id="toc"></div>

<h2 id="sekilas">Sekilas</h2>

<p>Mnesia adalah sebuah Sistem Manajemen Database (DBSM) yang disertakan bersama Erlang Runtime System yang tentu saja bisa kita gunakan dengan Elixir. <em>Model data hibrid antara relasional  dan object</em> Mnesia adalah apa yang membuatnya cocok untuk membuat aplikasi terdistribusi pada skala apapun.</p>

<h2 id="kapan-digunakan">Kapan Digunakan</h2>

<p>Kapan kita menggunakan sebuah teknologi seringkali jadi masalah yang membingungkan.  Jika anda bisa menjawab ‘ya’ pada satu saja pertanyaan berikut, maka ini adalah indikasi bagus untuk menggunakan Mnesia sebagai ganti ETS atau DETS.</p>

<ul>
  <li>Apakah aku perlu membalikkan (roll back) transaksi?</li>
  <li>Apakah aku perlu sebuah sintaks yang mudah digunakan untuk membaca dan menulis data?</li>
  <li>Apakah aku perlu menyimpan data lintas node, dan tidak hanya satu node?</li>
  <li>Apakah aku perlu bisa memilih di mana informasi disimpan (RAM atau disk)?</li>
</ul>

<h2 id="schema">Schema</h2>

<p>Karena Mnesia adalah bagian dari Erlang core, bukannya Elixir, kita harus mengaksesnya dengan sintaks colon (Lihat Pelajaran: <a href="../../advanced/erlang/">Erlang Interoperability</a>) seperti ini:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
<span class="gp">iex&gt; </span>:mnesia.create_schema<span class="o">([</span>node<span class="o">()])</span>

<span class="c"># atau jika anda lebih suka rasa Elixir...</span>

<span class="gp">iex&gt; </span><span class="nb">alias</span> :mnesia, as: Mnesia
<span class="gp">iex&gt; </span>Mnesia.create_schema<span class="o">([</span>node<span class="o">()])</span>
</code></pre>
</div>

<p>Untuk pelajaran ini, kita akan mengambil pendekatan yang terakhir ketika bekerja dengan API Mnesia. <code class="highlighter-rouge">Mnesia.create_schema/1</code> menginisialisasikan sebuah schema kosong yang baru dan memasukkan sebuah Node List. Dalam kasus ini, kita memasukkan node yang terasosiasikan dengan sesi IEx kita.</p>

<h2 id="node">Node</h2>

<p>Begitu kita sudah menjalankan perintah <code class="highlighter-rouge">Mnesia.create_schema([node()])</code> via IEx, anda mestinya melihat sebuah folder bernama <strong>Mnesia.nonode@nohost</strong> atau yang serupa di dalam direktori kerja yang sekarang ada.  Anda mungkin bertanya-tanya apa artinya <strong>nonode@nohost</strong> karena sebelumnya kita belum pernah melihatnya. Mari kita lihat.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>iex --help
Usage: iex <span class="o">[</span>options] <span class="o">[</span>.exs file] <span class="o">[</span>data]

  -v                Prints version
  -e <span class="s2">"command"</span>      Evaluates the given <span class="nb">command</span> <span class="o">(</span><span class="k">*</span><span class="o">)</span>
  -r <span class="s2">"file"</span>         Requires the given files/patterns <span class="o">(</span><span class="k">*</span><span class="o">)</span>
  -S <span class="s2">"script"</span>       Finds and executes the given script
  -pr <span class="s2">"file"</span>        Requires the given files/patterns <span class="k">in </span>parallel <span class="o">(</span><span class="k">*</span><span class="o">)</span>
  -pa <span class="s2">"path"</span>        Prepends the given path to Erlang code path <span class="o">(</span><span class="k">*</span><span class="o">)</span>
  -pz <span class="s2">"path"</span>        Appends the given path to Erlang code path <span class="o">(</span><span class="k">*</span><span class="o">)</span>
  --app <span class="s2">"app"</span>       Start the given app and its dependencies <span class="o">(</span><span class="k">*</span><span class="o">)</span>
  --erl <span class="s2">"switches"</span>  Switches to be passed down to Erlang <span class="o">(</span><span class="k">*</span><span class="o">)</span>
  --name <span class="s2">"name"</span>     Makes and assigns a name to the distributed node
  --sname <span class="s2">"name"</span>    Makes and assigns a short name to the distributed node
  --cookie <span class="s2">"cookie"</span> Sets a cookie <span class="k">for </span>this distributed node
  --hidden          Makes a hidden node
  --werl            Uses Erlang<span class="s1">'s Windows shell GUI (Windows only)
  --detached        Starts the Erlang VM detached from console
  --remsh "name"    Connects to a node using a remote shell
  --dot-iex "path"  Overrides default .iex.exs file and uses path instead;
                    path can be empty, then no file will be loaded

** Options marked with (*) can be given more than once
** Options given after the .exs file or -- are passed down to the executed code
** Options can be passed to the VM using ELIXIR_ERL_OPTIONS or --erl
</span></code></pre>
</div>

<p>Ketika kita berikan opsi <code class="highlighter-rouge">--help</code> ke IEx dari command line kita ditunjuki semua opsi yang mungkin. Kita bisa melihat bahwa ada opsi <code class="highlighter-rouge">--name</code> dan <code class="highlighter-rouge">--sname</code> untuk memberikan informasi ke node. Sebuah node hanyalah sebuah Erlang Virtual Machine yang sedang berjalan yang menangani sendiri komunikasi, pembersihan sampah (garbage collection), penjadwalan, memori, dan lain-lain. Secara default node dinamai <strong>nonode@nohost</strong>.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span>iex --name learner@elixirschool.com

Erlang/OTP 19 <span class="o">[</span>erts-8.0.2] <span class="o">[</span><span class="nb">source</span><span class="o">]</span> <span class="o">[</span>64-bit] <span class="o">[</span>smp:4:4] <span class="o">[</span>async-threads:10] <span class="o">[</span>hipe] <span class="o">[</span>kernel-poll:false] <span class="o">[</span>dtrace]

Interactive Elixir <span class="o">(</span>1.2.1<span class="o">)</span> - press Ctrl+C to <span class="nb">exit</span> <span class="o">(</span><span class="nb">type </span>h<span class="o">()</span> ENTER <span class="k">for </span><span class="nb">help</span><span class="o">)</span>
<span class="gp">iex(learner@elixirschool.com)&gt; </span>Node.self
:<span class="s2">"learner@elixirschool.com"</span>
</code></pre>
</div>

<p>Sebagaimana bisa kita lihat, node yang sedang kita jalankan adalah sebuah atom bernama <code class="highlighter-rouge">:"learner@elixirschool.com"</code>. Kalau kita jalankan <code class="highlighter-rouge">Mnesia.create_schema([node()])</code> lagi, kita akan lihat bahwa ia membuat folder lagi bernama <strong>Mnesia.learner@elixirschool.com</strong>. Tujuan dari hal ini adalah sederhana. Node di Erlang digunakan untuk mengkoneksi ke node lain untuk berbagi (distribusi) informasi dan sumber daya (resource). Hal ini tidak harus dibatasi pada mesin yang sama dan dapat berkomunikasi lewat LAN, internet, dan lain-lain.</p>

<h2 id="menjalankan-mnesia">Menjalankan Mnesia</h2>

<p>Sekarang setelah kita mahami dasar-dasarnya dan sudah mensetup databasenya, kita sekarang bisa jalankan DBMS Mnesia dengan perintah <code class="highlighter-rouge">Mnesia.start/0</code> command.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">iex&gt; </span><span class="nb">alias</span> :mnesia, as: Mnesia
<span class="gp">iex&gt; </span>Mnesia.create_schema<span class="o">([</span>node]<span class="o">)</span>
:ok
<span class="gp">iex&gt; </span>Mnesia.start<span class="o">()</span>
:ok
</code></pre>
</div>

<p>Patut diingat ketika menjalankan sebuah sistem terdistribusi dengan dua node atau lebih, fungsi <code class="highlighter-rouge">Mnesia.start/1</code> harus dijalankan pada semua node yang berpartisipasi.</p>

<h2 id="membuat-tabel">Membuat Tabel</h2>

<p>Fungsi <code class="highlighter-rouge">Mnesia.create_table/2</code> digunakan untuk membuat tabel dalam database kita. Di bawah ini kita membuat tabel bernama <code class="highlighter-rouge">Person</code> dan kemudian memasukkan keyword list yang mendefinisikan schema tabelnya.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">iex&gt; </span>Mnesia.create_table<span class="o">(</span>Person, <span class="o">[</span>attributes: <span class="o">[</span>:id, :name, :job]]<span class="o">)</span>
<span class="o">{</span>:atomic, :ok<span class="o">}</span>
</code></pre>
</div>

<p>Kita mendefinisikan kolom-kolom menggunakan atom-atom <code class="highlighter-rouge">:id</code>, <code class="highlighter-rouge">:name</code>, dan <code class="highlighter-rouge">:job</code>. Ketika kita menjalankan <code class="highlighter-rouge">Mnesia.create_table/2</code>, fungsi tersebut akan mengembalikan salah satu dari respons berikut:</p>

<ul>
  <li><code class="highlighter-rouge"><span class="p">{</span><span class="err">:atomic,</span><span class="w"> </span><span class="err">:ok</span><span class="p">}</span></code> jika fungsi tersebut selesai dengan baik</li>
  <li><code class="highlighter-rouge"><span class="p">{</span><span class="err">:aborted,</span><span class="w"> </span><span class="err">Reason</span><span class="p">}</span></code> jika fungsi tersebut gagal</li>
</ul>

<h2 id="cara-yang-kotor">Cara yang Kotor</h2>

<p>Pertama-tama kita akan melihat cara yang kotor untuk membaca dan menulis ke sebuah tabel Mnesia.  Hali ini secara umum mesti dihindari karena tidak dijamin berhasil, tetapi ini dapat menolong kita mempelajari dan menjadi terbiasa bekerja dengan Mnesia. MAri tambahkan beberapa etri ke tabel <strong>Person</strong> kita.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">iex&gt; </span>Mnesia.dirty_write<span class="o">({</span>Person, 1, <span class="s2">"Seymour Skinner"</span>, <span class="s2">"Principal"</span><span class="o">})</span>
:ok

<span class="gp">iex&gt; </span>Mnesia.dirty_write<span class="o">({</span>Person, 2, <span class="s2">"Homer Simpson"</span>, <span class="s2">"Safety Inspector"</span><span class="o">})</span>
:ok

<span class="gp">iex&gt; </span>Mnesia.dirty_write<span class="o">({</span>Person, 3, <span class="s2">"Moe Szyslak"</span>, <span class="s2">"Bartender"</span><span class="o">})</span>
:ok
</code></pre>
</div>

<p>…dan untuk mengambil entri-entri tersebut kita bisa gunakan <code class="highlighter-rouge">Mnesia.dirty_read/1</code>:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">iex&gt; </span>Mnesia.dirty_read<span class="o">({</span>Person, 1<span class="o">})</span>
<span class="o">[{</span>Person, 1, <span class="s2">"Seymour Skinner"</span>, <span class="s2">"Principal"</span><span class="o">}]</span>

<span class="gp">iex&gt; </span>Mnesia.dirty_read<span class="o">({</span>Person, 2<span class="o">})</span>
<span class="o">[{</span>Person, 2, <span class="s2">"Homer Simpson"</span>, <span class="s2">"Safety Inspector"</span><span class="o">}]</span>

<span class="gp">iex&gt; </span>Mnesia.dirty_read<span class="o">({</span>Person, 3<span class="o">})</span>
<span class="o">[{</span>Person, 3, <span class="s2">"Moe Szyslak"</span>, <span class="s2">"Bartender"</span><span class="o">}]</span>

<span class="gp">iex&gt; </span>Mnesia.dirty_read<span class="o">({</span>Person, 4<span class="o">})</span>
<span class="o">[]</span>
</code></pre>
</div>

<p>Kalau kita coba melakukan query ke sebuah record yang tidak ada Mnesia akan merespon dengan sebuah list kosong.</p>

<h2 id="transaksi">Transaksi</h2>

<p>Secara tradisional kita menggunakan <strong>transaksi</strong> untuk mengenkapsulasi pembacaan dan penulisan kita ke database. Transaksi adalah bagian yang penting dalam mendisain sistem sangat terdistribusi yang toleran terhadap kegagalan. Sebuah transaksi Mnesia adalah <em>sebuah mekanisme yang melaluinya serangkaian operasi database bisa dieksekusi sebagai sebuah blok fungsional</em>. Pertama-tama kita membuat sebuah fungsi anonim, dalam hal ini <code class="highlighter-rouge">data_to_write</code> dan kemudian memasukkannya ke <code class="highlighter-rouge">Mnesia.transaction</code>.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">iex&gt; </span>data_to_write <span class="o">=</span> fn -&gt;
<span class="gp">...&gt;   </span>Mnesia.write<span class="o">({</span>Person, 4, <span class="s2">"Marge Simpson"</span>, <span class="s2">"home maker"</span><span class="o">})</span>
<span class="gp">...&gt;   </span>Mnesia.write<span class="o">({</span>Person, 5, <span class="s2">"Hans Moleman"</span>, <span class="s2">"unknown"</span><span class="o">})</span>
<span class="gp">...&gt;   </span>Mnesia.write<span class="o">({</span>Person, 6, <span class="s2">"Monty Burns"</span>, <span class="s2">"Businessman"</span><span class="o">})</span>
<span class="gp">...&gt;   </span>Mnesia.write<span class="o">({</span>Person, 7, <span class="s2">"Waylon Smithers"</span>, <span class="s2">"Executive assistant"</span><span class="o">})</span>
<span class="gp">...&gt; </span>end
<span class="c">#Function&lt;20.54118792/0 in :erl_eval.expr/5&gt;</span>

<span class="gp">iex&gt; </span>Mnesia.transaction<span class="o">(</span>data_to_write<span class="o">)</span>
<span class="o">{</span>:atomic, :ok<span class="o">}</span>
</code></pre>
</div>
<p>Berdasarkan pesan transaksi ini, kita bisa dengan aman mengasumsikan bahwa kita telah menuliskan data ke tabel <code class="highlighter-rouge">Person</code> kita.  Mari kita gunakan transaksi untuk membaca dari database untuk memastikan. Kita akan gunakan <code class="highlighter-rouge">Mnesia.read/1</code> untuk membaca dari database, tetapi sekali lagi dari sebuah fungsi anonim.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">iex&gt; </span>data_to_read <span class="o">=</span> fn -&gt;
<span class="gp">...&gt;   </span>Mnesia.read<span class="o">({</span>Person, 6<span class="o">})</span>
<span class="gp">...&gt; </span>end
<span class="c">#Function&lt;20.54118792/0 in :erl_eval.expr/5&gt;</span>

<span class="gp">iex&gt; </span>Mnesia.transaction<span class="o">(</span>data_to_read<span class="o">)</span>
<span class="o">{</span>:atomic, <span class="o">[{</span>Person, 6, <span class="s2">"Monty Burns"</span>, <span class="s2">"Businessman"</span><span class="o">}]}</span>
</code></pre>
</div>


  

<hr />
<h3 id="social">
  
    Bagikan Halaman Ini
  
</h3>
<div class="social__container">
  <div class="social__item">
    <a target="_blank" href="https://www.linkedin.com/shareArticle?mini=true&url=https://elixirschool.com/id/lessons/specifics/mnesia/&title=Mnesia&summary=description&source=https://elixirschool.com" class="social__icon--linkedin"><i class="icon--linkedin"></i></a>
  </div>
  <div class="social__item">
    <a target="_blank" href="https://twitter.com/intent/tweet?url=https://elixirschool.com/id/lessons/specifics/mnesia/&via=elixirschool&text=ElixirSchool: Mnesia&hashtags=learnelixir%2Celixirlang&" class="social__icon--twitter"><i class="icon--twitter"></i></a>
  </div>
  <div class="social__item">
    <a target="_blank" href="https://plus.google.com/share?url=https://elixirschool.com/id/lessons/specifics/mnesia/" class="social__icon--googleplus"><i class="icon--googleplus"></i></a>
  </div>
  <div class="social__item">
    <a target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://elixirschool.com/id/lessons/specifics/mnesia/" class="social__icon--facebook"><i class="icon--facebook"></i></a>
  </div>
  <div class="social__item">
    <a target="_blank" href="https://www.pinterest.com/pin/create/link/?url=https://elixirschool.com/id/lessons/specifics/mnesia/&media=https://elixirschool.com/assets/fb_share.jpg&description=ElixirSchool: Mnesia" class="social__icon--pinterest"><i class="icon--pinterest"></i></a>
  </div>
  <div class="social__item">
    <a target="_blank" href="https://www.evernote.com/noteit.action?url=https://elixirschool.com/id/lessons/specifics/mnesia/&title=ElixirSchool: Mnesia&suggestTags=elixir,programming" class="social__icon--evernote"><i class="icon--evernote"></i></a>
  </div>
  <div class="social__item">
    <a target="_blank" href="https://vk.com/share.php?url=https://elixirschool.com/id/lessons/specifics/mnesia/&title=ElixirSchool: Mnesia&description=Check out 'Mnesia' on ElixirSchool" class="social__icon--vk" style="margin-left: 2px;"><i class="icon--vk"></i></a>
  </div>
  <div class="social__item">
    <a target="_blank" href="mailto:?&subject=ElixirSchool: Mnesia&body=Check out 'Mnesia' on ElixirSchool%0D%0A%0D%0Ahttps://elixirschool.com/id/lessons/specifics/mnesia/" class="social__icon--email"><i class="icon--email"></i></a>
  </div>
  <div class="social__item">
    <a href="javascript:window.print()" class="social__icon--print"><i class="icon--print"></i></a>
  </div>
</div>
</div>
    </div>
  <script type="text/javascript" src="/assets/app.js"></script>
  </body>
</html>
