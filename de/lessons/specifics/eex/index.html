<!DOCTYPE html>

<html lang="en-us">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <link href="http://gmpg.org/xfn/11" rel="profile">

  <meta name="description" content="Übungen zur Programmiersprache Elixir">
  <meta name="author" content="Sean Callan">

  <meta property="og:url" content="https://elixirschool.com/de/lessons/specifics/eex/">
  <meta property="og:site_name" content="ElixirSchool">
  <meta property="og:title" content="
  Embedded Elixir (EEx) &middot; Elixir School

">
  <meta property="og:description" content="Übungen zur Programmiersprache Elixir">
  <meta property="og:image" content="https://elixirschool.com/assets/fb_share.jpg">

  <title>
    
  Embedded Elixir (EEx) &middot; Elixir School


  </title>

  <!-- CSS -->
  <link type="text/css" rel="stylesheet" href="/assets/app.css">

  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <script type="text/javascript">
  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="3.1.0";
  analytics.load("C0p07Sw9j7mZnycKDCgPOAyqJR5hhyoQ");
  analytics.page()
  }}();
  </script>

</head>


  
  <body class="theme-custom-purple ">
    <a id="github_ribbon" href="https://github.com/doomspork/elixir_school"><img src="https://camo.githubusercontent.com/652c5b9acfaddf3a9c326fa6bde407b87f7be0f4/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6f72616e67655f6666373630302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png"></a>

    
<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/">
          Elixir School
        </a>
      </h1>
      <p class="lead">Übungen zur Programmiersprache Elixir</p>
    </div>

    <nav class="sidebar-nav">
      
      
        
        
        
        
          <div class="sidebar-nav-group basics">
            <div class="sidebar-nav-header">
              <i class="fa  fa-chevron-right "></i>
              <span>Grundlagen</span>
            </div>
            <div class="sidebar-nav-list"  style="display: none;" >
              
                <div class="sidebar-nav-item">
                  1. <a class="sidebar-lesson " href="/de/lessons/basics/basics/">Grundlagen</a>
                </div>
              
                <div class="sidebar-nav-item">
                  2. <a class="sidebar-lesson " href="/de/lessons/basics/collections/">Collections</a>
                </div>
              
                <div class="sidebar-nav-item">
                  3. <a class="sidebar-lesson " href="/de/lessons/basics/enum/">Enums</a>
                </div>
              
                <div class="sidebar-nav-item">
                  4. <a class="sidebar-lesson " href="/de/lessons/basics/pattern-matching/">Pattern Matching</a>
                </div>
              
                <div class="sidebar-nav-item">
                  5. <a class="sidebar-lesson " href="/de/lessons/basics/control-structures/">Kontrollstrukturen</a>
                </div>
              
                <div class="sidebar-nav-item">
                  6. <a class="sidebar-lesson " href="/de/lessons/basics/functions/">Funktionen</a>
                </div>
              
                <div class="sidebar-nav-item">
                  7. <a class="sidebar-lesson " href="/de/lessons/basics/pipe-operator/">Pipe Operator</a>
                </div>
              
                <div class="sidebar-nav-item">
                  8. <a class="sidebar-lesson " href="/de/lessons/basics/modules/">Module</a>
                </div>
              
                <div class="sidebar-nav-item">
                  9. <a class="sidebar-lesson " href="/de/lessons/basics/mix/">Mix</a>
                </div>
              
                <div class="sidebar-nav-item">
                  10. <a class="sidebar-lesson " href="/de/lessons/basics/sigils/">Sigils</a>
                </div>
              
                <div class="sidebar-nav-item">
                  11. <a class="sidebar-lesson " href="/de/lessons/basics/documentation/">Dokumentation</a>
                </div>
              
                <div class="sidebar-nav-item">
                  12. <a class="sidebar-lesson " href="/de/lessons/basics/testing/">Testen</a>
                </div>
              
                <div class="sidebar-nav-item">
                  13. <a class="sidebar-lesson " href="/de/lessons/basics/comprehensions/">Comprehensions</a>
                </div>
              
                <div class="sidebar-nav-item">
                  14. <a class="sidebar-lesson " href="/de/lessons/basics/strings/">Strings</a>
                </div>
              
                <div class="sidebar-nav-item">
                  15. <a class="sidebar-lesson " href="/de/lessons/basics/mix-tasks/">Custom Mix Tasks</a>
                </div>
              
            </div>
          </div>
        
      
        
        
        
        
          <div class="sidebar-nav-group advanced">
            <div class="sidebar-nav-header">
              <i class="fa  fa-chevron-right "></i>
              <span>Erweitert</span>
            </div>
            <div class="sidebar-nav-list"  style="display: none;" >
              
                <div class="sidebar-nav-item">
                  1. <a class="sidebar-lesson " href="/de/lessons/advanced/erlang/">Erlang-Interoperabilität</a>
                </div>
              
                <div class="sidebar-nav-item">
                  2. <a class="sidebar-lesson " href="/de/lessons/advanced/error-handling/">Fehlerbehandlung</a>
                </div>
              
                <div class="sidebar-nav-item">
                  3. <a class="sidebar-lesson " href="/de/lessons/advanced/escripts/">Ausführbare Dateien</a>
                </div>
              
                <div class="sidebar-nav-item">
                  4. <a class="sidebar-lesson " href="/de/lessons/advanced/concurrency/">Nebenläufigkeit</a>
                </div>
              
                <div class="sidebar-nav-item">
                  5. <a class="sidebar-lesson " href="/de/lessons/advanced/otp-concurrency/">OTP Nebenläufigkeit</a>
                </div>
              
                <div class="sidebar-nav-item">
                  6. <a class="sidebar-lesson " href="/de/lessons/advanced/otp-supervisors/">OTP Supervisors</a>
                </div>
              
                <div class="sidebar-nav-item">
                  7. <a class="sidebar-lesson " href="/de/lessons/advanced/metaprogramming/">Metaprogrammierung</a>
                </div>
              
                <div class="sidebar-nav-item">
                  8. <a class="sidebar-lesson " href="/de/lessons/advanced/umbrella-projects/">Umbrella-Projekte</a>
                </div>
              
                <div class="sidebar-nav-item">
                  9. <a class="sidebar-lesson " href="/de/lessons/advanced/typespec/">Spezifikationen und Typen</a>
                </div>
              
            </div>
          </div>
        
      
        
        
        
        
          <div class="sidebar-nav-group specifics">
            <div class="sidebar-nav-header">
              <i class="fa  fa-chevron-down "></i>
              <span>Einzelheiten</span>
            </div>
            <div class="sidebar-nav-list" >
              
                <div class="sidebar-nav-item">
                  3. <a class="sidebar-lesson  active" href="/de/lessons/specifics/eex/">Embedded Elixir (EEx)</a>
                </div>
              
            </div>
          </div>
        
      
        
        
        
        
      
    </nav>

    <p>
      

      
        <a href=" /lessons/specifics/eex/ ">en</a>
      
        <a href=" /jp/lessons/specifics/eex/ ">jp</a>
      
        <a href=" /cn/lessons/specifics/eex/ ">cn</a>
      
        <a href=" /es/lessons/specifics/eex/ ">es</a>
      
        <a href=" /pt/lessons/specifics/eex/ ">pt</a>
      
        <a href=" /vi/lessons/specifics/eex/ ">vi</a>
      
        <a href=" /ru/lessons/specifics/eex/ ">ru</a>
      
        <a href=" /sk/lessons/specifics/eex/ ">sk</a>
      
        <a href=" /fr/lessons/specifics/eex/ ">fr</a>
      
        <a href=" /gr/lessons/specifics/eex/ ">gr</a>
      
        <a href=" /it/lessons/specifics/eex/ ">it</a>
      
        <a href=" /pl/lessons/specifics/eex/ ">pl</a>
      
        <a href=" /my/lessons/specifics/eex/ ">my</a>
      
        <a href=" /no/lessons/specifics/eex/ ">no</a>
      
        <a href=" /ko/lessons/specifics/eex/ ">ko</a>
      
        <a href=" /id/lessons/specifics/eex/ ">id</a>
      
        <a href=" /uk/lessons/specifics/eex/ ">uk</a>
      
        <a href=" /tr/lessons/specifics/eex/ ">tr</a>
      
        <a href=" /bg/lessons/specifics/eex/ ">bg</a>
      
        <a href=" /de/lessons/specifics/eex/ ">de</a>
      
        <a href=" /bn/lessons/specifics/eex/ ">bn</a>
      
    </p>

    <p>&copy; 2017 <a href="https://github.com/doomspork">Sean Callan</a></p>
  </div>
</div>


    <div class="content container">
      <div class="page">
  <h1 class="page-title">Embedded Elixir (EEx)</h1>
  <p>So wie Ruby ERB und Java JSPs hat, hat Elixir EEx. EEx steht für “Embedded Elixir”. Mit EEx können wir Elixir-Ausdrücke innerhalb von Strings einbetten und auswerten.</p>

<h2>Inhaltsverzeichnis</h2>
<div id="toc"></div>

<h2 id="api">API</h2>

<p>Die EEx API erlaubt uns mit Strings und Dateien zu arbeiten. Die API ist in drei Hauptkomponenten unterteilt: Einfache Auswertung, Funktionsdefinitionen und Kompilierung von ASTs.</p>

<h3 id="auswertung">Auswertung</h3>

<p>Mit <code class="highlighter-rouge">eval_string/3</code> und <code class="highlighter-rouge">eval_file/2</code> können wir Strings oder Dateiinhalte direkt auswerten. Dies ist die einfachste, aber auch die langsamste API, da Code direkt ausgewertet und nicht zuerst kompiliert wird.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">iex</span><span class="o">&gt;</span> <span class="no">EEx</span><span class="o">.</span><span class="n">eval_string</span> <span class="sd">"</span><span class="s2">Hi, &lt;%= name %&gt;"</span><span class="p">,</span> <span class="p">[</span><span class="ss">name:</span> <span class="sd">"</span><span class="s2">Sean"</span><span class="p">]</span>
<span class="sd">"</span><span class="s2">Hi, Sean"</span>
</code></pre>
</div>

<h3 id="funktionsdefinitionen">Funktionsdefinitionen</h3>

<p>Die schnellste (und bevorzugte) Möglichkeit EEx zu nutzen besteht darin, unser Template in ein Modul einzubetten, damit es kompiliert werden kann. Hierfür benötigen wir zur Kompilierzeit unser Template, sowie die Makros <code class="highlighter-rouge">function_from_string/5</code> und <code class="highlighter-rouge">function_from_file/5</code>.</p>

<p>Wir verschieben unser Beispiel in eine eigene Datei und erstellen eine Funktion für das Template:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c1"># greeting.eex</span>
<span class="no">Hi</span><span class="p">,</span> <span class="o">&lt;%=</span> <span class="n">name</span> <span class="p">%</span><span class="o">&gt;</span>

<span class="k">defmodule</span> <span class="no">Example</span> <span class="k">do</span>
  <span class="kn">require</span> <span class="no">EEx</span>
  <span class="no">EEx</span><span class="o">.</span><span class="n">function_from_file</span> <span class="ss">:def</span><span class="p">,</span> <span class="ss">:greeting</span><span class="p">,</span> <span class="sd">"</span><span class="s2">greeting.eex"</span><span class="p">,</span> <span class="p">[</span><span class="ss">:name</span><span class="p">]</span>
<span class="k">end</span>

<span class="n">iex</span><span class="o">&gt;</span> <span class="no">Example</span><span class="o">.</span><span class="n">greeting</span><span class="p">(</span><span class="sd">"</span><span class="s2">Sean"</span><span class="p">)</span>
<span class="sd">"</span><span class="s2">Hi, Sean"</span>
</code></pre>
</div>

<h3 id="kompilierung">Kompilierung</h3>

<p>Darüber hinaus stellt uns EEx die Möglichkeit zur Verfügung, mit <code class="highlighter-rouge">compile_string/2</code> oder <code class="highlighter-rouge">compile_file/2</code> Elixir ASTs aus Strings bzw. Dateien zu generieren. Diese API wird intern von den vorher genannten APIs genutzt, kann aber auch direkt genutzt werden, falls wir eine eigene Lösung zum Umgang mit EEx schreiben möchten.</p>

<h2 id="tags">Tags</h2>

<p>Standardmäßig gibt es vier von EEx unterstützte Tags:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="o">&lt;</span><span class="p">%</span> <span class="no">Elixir</span> <span class="no">Ausdruck</span> <span class="o">-</span> <span class="n">wird</span> <span class="n">inline</span> <span class="n">ausgewertet</span> <span class="p">%</span><span class="o">&gt;</span>
<span class="o">&lt;%=</span> <span class="no">Elixir</span> <span class="no">Ausdruck</span> <span class="o">-</span> <span class="n">das</span> <span class="no">Ergebnis</span> <span class="n">des</span> <span class="no">Ausdrucks</span> <span class="n">wird</span> <span class="n">im</span> <span class="no">String</span> <span class="n">eingebettet</span> <span class="p">%</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="p">%%</span> <span class="no">EEx</span> <span class="no">Zitat</span> <span class="o">-</span> <span class="n">der</span> <span class="no">Code</span> <span class="n">wird</span> <span class="n">nicht</span> <span class="n">ausgewertet</span><span class="p">,</span> <span class="n">sondern</span> <span class="n">zitiert</span> <span class="n">im</span> <span class="no">String</span> <span class="n">wiedergegeben</span> <span class="p">%</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="p">%</span><span class="c1"># Kommentar- wird einfach verworfen %&gt;</span>
</code></pre>
</div>

<p>Alle Ausdrücke die ausgewertet werden sollen, <strong>müssen</strong> das Gleichheitszeichen (<code class="highlighter-rouge">=</code>) nutzen. Zu beachten ist, dass Elixir z.B. auch Konstrukte wie <code class="highlighter-rouge">if</code> nicht anders behandelt als andere Ausdrücke. Ohne <code class="highlighter-rouge">=</code> keine Ausgabe:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="o">&lt;%=</span> <span class="k">if</span> <span class="no">true</span> <span class="k">do</span> <span class="p">%</span><span class="o">&gt;</span>
  <span class="no">Eine</span> <span class="no">Wahre</span> <span class="no">Aussage</span>
<span class="o">&lt;</span><span class="p">%</span> <span class="k">else</span> <span class="p">%</span><span class="o">&gt;</span>
  <span class="no">Eine</span> <span class="no">Unwahre</span> <span class="no">Aussage</span>
<span class="o">&lt;</span><span class="p">%</span> <span class="k">end</span> <span class="p">%</span><span class="o">&gt;</span>
</code></pre>
</div>

<h2 id="engine">Engine</h2>

<p>In Elixir ist die <code class="highlighter-rouge">EEx.SmartEngine</code> voreingestellt, diese beinhaltet Unterstützung für Zuweisungen (wie z.B. <code class="highlighter-rouge">@name</code>):</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">iex</span><span class="o">&gt;</span> <span class="no">EEx</span><span class="o">.</span><span class="n">eval_string</span> <span class="sd">"</span><span class="s2">Hi, &lt;%= @name %&gt;"</span><span class="p">,</span> <span class="ss">assigns:</span> <span class="p">[</span><span class="ss">name:</span> <span class="sd">"</span><span class="s2">Sean"</span><span class="p">]</span>
<span class="sd">"</span><span class="s2">Hi, Sean"</span>
</code></pre>
</div>
<p>Die <code class="highlighter-rouge">EEx.SmartEngine</code>-Zuweisungen sind nützlich da sie geändert werden können ohne erneute Kompilierung des Templates zu erfordern.</p>

<p>Willst du deine eigene Engine schreiben? Schau dir das Behaviour <a href="http://elixir-lang.org/docs/stable/eex/EEx.Engine.html"><code class="highlighter-rouge">EEx.Engine</code></a> an, um zu sehen was du dafür benötigst.</p>


  

<hr />
<h3 id="social">
  
    Share This Page
  
</h3>
<div class="social__container">
  <div class="social__item">
    <a target="_blank" href="https://www.linkedin.com/shareArticle?mini=true&url=https://elixirschool.com/de/lessons/specifics/eex/&title=Embedded Elixir (EEx)&summary=description&source=https://elixirschool.com" class="social__icon--linkedin"><i class="icon--linkedin"></i></a>
  </div>
  <div class="social__item">
    <a target="_blank" href="https://twitter.com/intent/tweet?url=https://elixirschool.com/de/lessons/specifics/eex/&via=elixirschool&text=ElixirSchool: Embedded Elixir (EEx)&hashtags=learnelixir%2Celixirlang&" class="social__icon--twitter"><i class="icon--twitter"></i></a>
  </div>
  <div class="social__item">
    <a target="_blank" href="https://plus.google.com/share?url=https://elixirschool.com/de/lessons/specifics/eex/" class="social__icon--googleplus"><i class="icon--googleplus"></i></a>
  </div>
  <div class="social__item">
    <a target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://elixirschool.com/de/lessons/specifics/eex/" class="social__icon--facebook"><i class="icon--facebook"></i></a>
  </div>
  <div class="social__item">
    <a target="_blank" href="https://www.pinterest.com/pin/create/link/?url=https://elixirschool.com/de/lessons/specifics/eex/&media=https://elixirschool.com/assets/fb_share.jpg&description=ElixirSchool: Embedded Elixir (EEx)" class="social__icon--pinterest"><i class="icon--pinterest"></i></a>
  </div>
  <div class="social__item">
    <a target="_blank" href="https://www.evernote.com/noteit.action?url=https://elixirschool.com/de/lessons/specifics/eex/&title=ElixirSchool: Embedded Elixir (EEx)&suggestTags=elixir,programming" class="social__icon--evernote"><i class="icon--evernote"></i></a>
  </div>
  <div class="social__item">
    <a target="_blank" href="https://vk.com/share.php?url=https://elixirschool.com/de/lessons/specifics/eex/&title=ElixirSchool: Embedded Elixir (EEx)&description=Check out 'Embedded Elixir (EEx)' on ElixirSchool" class="social__icon--vk" style="margin-left: 2px;"><i class="icon--vk"></i></a>
  </div>
  <div class="social__item">
    <a target="_blank" href="mailto:?&subject=ElixirSchool: Embedded Elixir (EEx)&body=Check out 'Embedded Elixir (EEx)' on ElixirSchool%0D%0A%0D%0Ahttps://elixirschool.com/de/lessons/specifics/eex/" class="social__icon--email"><i class="icon--email"></i></a>
  </div>
  <div class="social__item">
    <a href="javascript:window.print()" class="social__icon--print"><i class="icon--print"></i></a>
  </div>
</div>
</div>
    </div>
  <script type="text/javascript" src="/assets/app.js"></script>
  </body>
</html>
